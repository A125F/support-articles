<p>In general, we can <a href="https://circleci.com/docs/api/v2/#operation/getJobArtifacts" target="_blank" rel="noopener">retrieve the list of URLs to a job's artifacts from our V2 API</a>.<br>However, this is applicable <strong>only after</strong> the uploading of the artifacts are completed, or in other words, when the relevant <a href="https://circleci.com/docs/2.0/artifacts/#uploading-artifacts" target="_self">store_artifacts</a> steps are executed successfully.<br>You can review <a href="https://support.circleci.com/hc/en-us/articles/360045457592-Access-uploaded-artifact-URL-in-job" target="_blank" rel="noopener">our article here</a> on how to retrieve the artifacts' URLs after the store_artifacts steps.<br><br>In cases where you would like to pre-determine or construct the URL for an artifact to be stored, you can use the following URL pattern:</p>
<p><br><span>https://output.circle-artifacts.com/output/job/${CIRCLE_WORKFLOW_JOB_ID}/artifacts/${CIRCLE_NODE_INDEX}/&lt;&lt;path to file or folder&gt;&gt;</span><br><br>For instance, <a href="https://output.circle-artifacts.com/output/job/3df8fe81-1066-4a7b-9843-bad46ff42b65/artifacts/0/foo.txt">https://output.circle-artifacts.com/output/job/3df8fe81-1066-4a7b-9843-bad46ff42b65/artifacts/0/foo.txt</a><br><br>In this example, <a href="https://github.com/kelvintaywl-cci/generating-artifacts-url/blob/ef0b93b9809407cf9e69241b043c27ed3f12c7b4/.circleci/config.yml#L19-L20" target="_blank" rel="noopener">we had saved a foo.txt file </a>, and can pre-determine the artifact's URL above.<br><br>We can see that the Job ID, 3df8fe81-1066-4a7b-9843-bad46ff42b65, is <a href="https://app.circleci.com/pipelines/github/kelvintaywl-cci/generating-artifacts-url/4/workflows/9fce5e28-fb62-434e-9e21-e049077f3fb3/jobs/4/parallel-runs/0?filterBy=ALL&amp;invite=true#step-99-21" target="_blank" rel="noopener">populated as the CIRCLE_WORKFLOW_JOB_ID environment variable in our job.</a><br>Because we are looking at the <strong>first node</strong> of the job (with parallelism: 2), the <span>CIRCLE_NODE_INDEX value is thus 0.<br><br>&gt; Tip: For jobs<em> not using parallelism</em>, the CIRCLE_NODE_INDEX value would be 0.<br><br></span>Feel free to check out <a href="https://github.com/kelvintaywl-cci/generating-artifacts-url/blob/main/.circleci/config.yml" target="_blank" rel="noopener">this sample project's config</a> for more details.<br><br><strong>Note</strong> that the domain to where CircleCI artifacts are stored can be subjected to changes.<br>Ideally, we would prefer the V2 API to retrieve the URLs for a job's artifacts, after job completion.</p>